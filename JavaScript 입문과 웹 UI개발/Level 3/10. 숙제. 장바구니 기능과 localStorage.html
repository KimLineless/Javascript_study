<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./main.css" />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
      referrerpolicy="no-referrer"
    ></script>
    <title>Hello, world!</title>
  </head>

  <body>
    <style>
      ul.list {
        list-style-type: none;
        margin: 0;
        padding: 0;
        border-bottom: 1px solid #ccc;
      }

      ul.list::after {
        content: '';
        display: block;
        clear: both;
      }

      .tab-button {
        display: block;
        padding: 10px 20px 10px 20px;
        float: left;
        margin-right: -1px;
        margin-bottom: -1px;
        color: grey;
        text-decoration: none;
        cursor: pointer;
      }

      .orange {
        border-top: 2px solid orange;
        border-right: 1px solid #ccc;
        border-bottom: 1px solid white;
        border-left: 1px solid #ccc;
        color: black;
        margin-top: -2px;
      }

      .tab-content {
        display: none;
        padding: 10px;
      }

      .show {
        display: block;
      }

      #more.hide {
        display: none;
      }
    </style>

    <div class="container">
      <div class="row">
        <!-- <div class="col-sm-4">
                <img src="https://via.placeholder.com/600" class="w-100">
                <h5>Card title</h5>
                <p>가격 : 70000</p>
            </div> -->
      </div>
    </div>

    <script>
      let products = [
        { id: 0, price: 70000, title: 'Blossom Dress' },
        { id: 1, price: 50000, title: 'Springfield Shirt' },
        { id: 2, price: 60000, title: 'Black Monastery' },
      ];

      let 어레이 = [7, 3, 5, 2, 40];
      어레이.sort(function (a, b) {
        return a - b;
      });

      // 어레이에 붙일 수 있는 유용한 함수 ***
      // 1. filter
      //   let 새어레이 = 어레이.filter(function (a) {
      //     return a < 4;
      //   });
      //   console.log(새어레이);

      // 2. map
      let 새어레이 = 어레이.map(function (a) {
        return a * 1000 + '원';
      });
      console.log(새어레이);

      // let 어레이2 = ['a', 'b', 'c']
      //   어레이2.sort();

      // 어레이2.sort(function (a, b) {
      //     return -1
      // });
      // console.log(어레이);
      // console.log(어레이2);

      products.forEach((a, i) => {
        document.querySelector('.row').insertAdjacentHTML(
          'beforeend',
          `<div class="col-sm-4">
                <img src="https://via.placeholder.com/600" class="w-100">
                <h5>${products[i].title}</h5>
                <p>가격 : ${products[i].price}</p>
                <button class="buy">구매</button>
                </div>`
        );
      });
      let arr1 = [1, 2, 3];
      let newarr1 = JSON.stringify(arr1);

      localStorage.setItem('num', newarr1);
      let 꺼낸거 = localStorage.getItem('num');
    </script>
    <div class="container my-3">
      <button class="btn btn-danger" id="price">가격순 정렬</button>
    </div>
    <div class="container my-3">
      <button class="btn btn-danger" id="sort">다나가순 정렬</button>
    </div>
    <div class="container my-3">
      <button class="btn btn-danger" id="more">더보기</button>
    </div>
    <div class="container my-3">
      <button class="btn btn-danger" id="filter">6만원 이하</button>
    </div>

    <script>
      let cnt = 0;
      let bn = document.querySelector('#more');
      let bn1 = document.querySelector('#price');
      let bn2 = document.querySelector('#sort');
      let bn3 = document.querySelector('#filter');
      let buy = document.querySelector('.buy');

      function btnCount() {
        cnt++;
      }

      bn.addEventListener('click', function () {
        btnCount();
        if (cnt == 1) {
          bn.classList.remove('hide');
          fetch('https://codingapple1.github.io/js/more1.json')
            .then((res) => res.json())
            .then((data) => {
              data.forEach((a, i) => {
                document.querySelector('.row').insertAdjacentHTML(
                  'beforeend',
                  `<div class="col-sm-4">
                <img src="https://via.placeholder.com/600" class="w-100">
                <h5>${a.title}</h5>
                <p>가격 : ${a.price}</p>
                <button class="buy">구매</button>
                </div>`
                );
              });
            });
        } else if (cnt == 2) {
          bn.classList.add('hide');
          fetch('https://codingapple1.github.io/js/more2.json')
            .then((res) => res.json())
            .then((data) => {
              data.forEach((a, i) => {
                document.querySelector('.row').insertAdjacentHTML(
                  'beforeend',
                  `<div class="col-sm-4">
                <img src="https://via.placeholder.com/600" class="w-100">
                <h5>${a.title}</h5>
                <p>가격 : ${a.price}</p>
                <button class="buy">구매</button>
                </div>`
                );
              });
            });
        }
      });

      // 구매버튼 이벤트리스너

      buy.addEventListener("click",function(){
        let title = $(e.target)
      })

      //   가격순정렬

      bn1.addEventListener('click', function () {
        products.sort(function (a, b) {
          return a.price - b.price;
        });

        document.querySelector('.row').innerHTML = '';

        products.forEach((a, i) => {
          document.querySelector('.row').insertAdjacentHTML(
            'beforeend',
            `<div class="col-sm-4">
                <img src="https://via.placeholder.com/600" class="w-100">
                <h5>${products[i].title}</h5>
                <p>가격 : ${products[i].price}</p>
                <button class="buy">구매</button>
                </div>`
          );
        });
      });

      //   상품명 정렬

      products.sort(function (a, b) {
        if (a.title < b.title) {
          return 1;
        } else {
          return -1;
        }
      });

      bn2.addEventListener('click', function () {
        document.querySelector('.row').innerHTML = '';

        products.forEach((a, i) => {
          document.querySelector('.row').insertAdjacentHTML(
            'beforeend',
            `<div class="col-sm-4">
                <img src="https://via.placeholder.com/600" class="w-100">
                <h5>${products[i].title}</h5>
                <p>가격 : ${products[i].price}</p>
                <button class="buy">구매</button>
                </div>`
          );
        });
      });

      //   필터

      bn3.addEventListener('click', function () {
        let new1 = products.filter((a) => {
          return a.price <= 60000;
        });
        document.querySelector('.row').innerHTML = '';

        new1.forEach((a, i) => {
          document.querySelector('.row').insertAdjacentHTML(
            'beforeend',
            `<div class="col-sm-4">
                <img src="https://via.placeholder.com/600" class="w-100">
                <h5>${new1[i].title}</h5>
                <p>가격 : ${new1[i].price}</p>
                <button class="buy">구매</button>
                </div>`
          );
        });
      });
    </script>

    <!-- Ajax -->

    <script></script>

    <!-- end -->

    <script>
      let btn = document.querySelector('.tab-button');

      function tabOpen(i) {
        $('.tab-button').removeClass('orange');
        $('.tab-button').eq(i).addClass('orange');
        $('.tab-content').removeClass('show');
        $('.tab-content').eq(i).addClass('show');
      }

      $('.list').click(function (e) {
        tabOpen(e.target.dataset.id);
      });

      // let car2 = { name: '소나타', price: [50000, 3000, 4000] }

      // document.querySelector('.price').innerHTML = car2.price[0]
    </script>
  </body>
</html>
